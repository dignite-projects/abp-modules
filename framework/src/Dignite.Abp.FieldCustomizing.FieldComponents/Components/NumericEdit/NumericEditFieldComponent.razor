@using Dignite.Abp.FieldCustomizing.FieldComponents
@using Dignite.Abp.FieldCustomizing.Fields
@using Dignite.Abp.FieldCustomizing.Fields.NumericEdit
@using Dignite.Abp.FieldCustomizing
@inherits FieldComponentBase<NumericEditFieldProvider,NumericEditConfiguration>

    <Field Horizontal="@(!HideFieldLable)">
        <FieldLabel ColumnSize="ColumnSize.Is2.OnDesktop" hidden="@HideFieldLable">@CustomizeField.Definition.DisplayName</FieldLabel>
        <FieldBody ColumnSize="ColumnSize.Is10.OnDesktop">
            @if (value.HasValue)
            {
                @if (Configuration.FormatSpecifier.IsNullOrEmpty())
                {
                <Text>@value</text>
                }
                else
                {
                    <Text>@(value.Value.ToString(Configuration.FormatSpecifier))</text>                
                }
            }
        </FieldBody>
    </Field>

@code{
    private decimal? value = null;

    protected override void OnInitialized()
    {
        base.OnInitialized();
        if (CustomizeField.Entity.GetField(CustomizeField.Definition.Name, null) != null)
        {
            decimal convertValue;
            if (decimal.TryParse(CustomizeField.Entity.GetField(CustomizeField.Definition.Name, null).ToString(), out convertValue))
            {
                value = convertValue;
            }
        }
    }

}