@using Dignite.Abp.FieldCustomizing.Components
@using Dignite.Abp.FieldCustomizing.Fields
@using Dignite.Abp.FieldCustomizing.Fields.Switch
@inherits FieldConfigurationComponentBase<SwitchFieldProvider,SwitchConfiguration>

<Validation>
    <Field>
        <FieldLabel>@L["FieldDisplayName"]</FieldLabel>
        <TextEdit @bind-Text="@Definition.DisplayName" />
    </Field>
</Validation>
<Validation>
    <Field>
        <FieldLabel>@L["FieldName"]</FieldLabel>
        <TextEdit MaxLength="64" @bind-Text="@Definition.Name" />
    </Field>
</Validation>

<Validation>
    <Field>
        <FieldLabel>@L["Description"]</FieldLabel>
        <TextEdit @bind-Text="@Configuration.Description" />
    </Field>
</Validation>
<Field>
    <Check TValue="bool" Checked="@(Checked(Definition.DefaultValue))" CheckedChanged="OnChecked">@L["DefaultValue"]</Check>
</Field>

@code{


    private bool Checked(string defaultValue)
    {
        bool defaultChecked= false;
        bool.TryParse(defaultValue, out defaultChecked);
        return defaultChecked;
    }

    private void OnChecked(bool value)
    {
        Definition.DefaultValue = value.ToString();
    }
}